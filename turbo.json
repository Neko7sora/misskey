{
	"$schema": "https://turbo.build/schema.json",
	"pipeline": {
		"api": {
			"inputs": [
				"packages/misskey-js/**"
			]
		},
		"api-prod": {
			"inputs": [
				"packages/misskey-js/**"
			]
		},
		"build:main": {
			"inputs": [
				"built/meta.json",
				"packages/**"
			],
			"outputs": [
				"**/built/**"
			]
		},
		"build:post": {
			"inputs": [
				"**/built/**",
				"scripts/build-watch.js",
				"scripts/package.json"
			],
			"outputs": [
				"**/built/**"
			]
		},
		"build:pre": {
			"inputs": [
				"built/**",
				"scripts/build-pre.js",
				"scripts/package.json",
				"package.json"
			],
			"outputs": [
				"built/meta.json"
			]
		},
		"build-storybook": {
			"inputs": [
				"built/**",
				"scripts/build-pre.js",
				"scripts/package.json",
				"package.json"
			],
			"outputs": [
				"built/meta.json"
			]
		},
		"check:connect": {
			"cache": false
		},
		"clean": {
			"inputs": [
				"**/built/**",
				"scripts/clean.js"
			],
			"outputs": [
				"**/built/**"
			]
		},
		"clean-all": {
			"dependsOn": [
				"clean"
			],
			"inputs": [
				"**/node_modules/**",
				"scripts/clean-all.js"
			],
			"outputs": [
				"**/node_modules/**"
			]
		},
		"dev:main": {
			"cache": false,
			"persistent": true
		},
		"dev:main:swc": {
			"cache": false,
			"persistent": true
		},
		"dev:watch": {
			"cache": false,
			"persistent": true
		},
		"dev:watch:swc": {
			"cache": false,
			"persistent": true
		},
		"eslint": {
			"inputs": [
				"packages/**"
			],
			"outputs": [
				"packages/**"
			]
		},
		"jest": {
			"env": [
				"NODE_ENV"
			],
			"inputs": [
				"packages/backend/**",
				"packages/misskey-js/**"
			]
		},
		"jest-clear": {
			"env": [
				"NODE_ENV"
			],
			"inputs": [
				"packages/backend/**"
			]
		},
		"lint": {
			"dependsOn": [
				"eslint",
				"typecheck"
			]
		},
		"migrate": {
			"cache": false
		},
		"start": {
			"cache": false,
			"dependsOn": [
				"check:connect"
			],
			"env": [
				"NODE_ENV"
			],
			"persistent": true
		},
		"test": {
			"dependsOn": [
				"jest",
				"tsd",
				"vitest"
			]
		},
		"tsd": {
			"inputs": [
				"packages/misskey-js/**"
			],
			"outputs": [
				"packages/misskey-js/**"
			]
		},
		"typecheck": {
			"inputs": [
				"packages/**"
			],
			"outputs": [
				"packages/**"
			]
		},
		"vitest": {
			"env": [
				"NODE_ENV"
			],
			"inputs": [
				"packages/frontend/**"
			]
		}
	}
}
